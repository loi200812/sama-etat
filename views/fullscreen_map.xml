<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="fullscreen_map_page" name="Fullscreen Map - Plan Sénégal 2050">
        <t t-call="sama_etat.modern_public_layout">
            <t t-set="head">
                <style>
                    body, html {
                        height: 100%;
                        margin: 0;
                        padding: 0;
                        overflow: hidden;
                    }
                    
                    .fullscreen-container {
                        position: fixed;
                        top: 0;
                        left: 0;
                        width: 100%;
                        height: 100%;
                        z-index: 1000;
                        background: #f8f9fa;
                    }
                    
                    #back-to-dashboard {
                        position: fixed;
                        top: 20px;
                        left: 20px;
                        z-index: 1002;
                        background: white;
                        padding: 12px 20px;
                        border-radius: 8px;
                        box-shadow: 0 4px 15px rgba(0,0,0,0.2);
                        text-decoration: none;
                        color: #333;
                        font-weight: 600;
                        border: 2px solid #007bff;
                        transition: all 0.3s ease;
                    }
                    
                    #back-to-dashboard:hover {
                        background: #007bff;
                        color: white;
                        text-decoration: none;
                        transform: translateY(-2px);
                    }
                    
                    .fullscreen-map-card {
                        position: absolute;
                        top: 20px;
                        left: 200px;
                        right: 20px;
                        bottom: 20px;
                        background: white;
                        border-radius: 15px;
                        box-shadow: 0 8px 30px rgba(0,0,0,0.15);
                        overflow: hidden;
                    }
                    
                    .map-header {
                        background: linear-gradient(135deg, #007bff, #0056b3);
                        color: white;
                        padding: 20px 30px;
                        border-bottom: 3px solid #004085;
                    }
                    
                    .map-header h4 {
                        margin: 0;
                        font-weight: 700;
                        font-size: 1.5rem;
                    }
                    
                    .map-header p {
                        margin: 5px 0 0 0;
                        opacity: 0.9;
                        font-size: 0.95rem;
                    }
                    
                    /* Override the card styles from the template to fit fullscreen */
                    .fullscreen-map-card .card {
                        border: none;
                        height: calc(100% - 120px);
                        border-radius: 0;
                        box-shadow: none;
                    }
                    
                    .fullscreen-map-card .card-header {
                        display: none; /* Hide the original header since we have our own */
                    }
                    
                    .fullscreen-map-card .card-body {
                        height: 100%;
                        padding: 0;
                    }
                    
                    .fullscreen-map-card #enhanced-map {
                        height: 100% !important;
                        border-radius: 0;
                        margin: 0;
                    }
                    
                    /* Position the controls as overlay */
                    .fullscreen-map-card .row.mt-4 {
                        position: absolute;
                        top: 20px;
                        right: 20px;
                        width: 320px;
                        z-index: 1001;
                        background: rgba(255,255,255,0.95);
                        border-radius: 12px;
                        padding: 20px;
                        box-shadow: 0 4px 20px rgba(0,0,0,0.15);
                        margin: 0;
                        backdrop-filter: blur(10px);
                    }
                    
                    .fullscreen-map-card .text-center.mt-3.mb-3 {
                        position: absolute;
                        bottom: 20px;
                        right: 20px;
                        z-index: 1001;
                        margin: 0;
                    }
                    
                    /* Improve the form controls styling */
                    .fullscreen-map-card .form-check {
                        margin-bottom: 12px;
                        padding: 12px;
                        border: 1px solid #e3e6ea;
                        border-radius: 8px;
                        background: rgba(255,255,255,0.9);
                        transition: all 0.3s ease;
                    }
                    
                    .fullscreen-map-card .form-check:hover {
                        border-color: #007bff;
                        box-shadow: 0 2px 8px rgba(0,123,255,0.15);
                        transform: translateY(-1px);
                    }
                </style>
            </t>
            
            <div class="fullscreen-container">
                <a href="/senegal2050/dashboard" id="back-to-dashboard">
                    <i class="fas fa-arrow-left me-2"></i>Retour au tableau de bord
                </a>
                
                <div class="fullscreen-map-card">
                    <div class="map-header">
                        <h4>
                            <i class="fas fa-map-marker-alt me-2"></i>
                            Carte Interactive - Plan Sénégal 2050
                        </h4>
                        <p>Visualisation complète des projets, décisions et événements gouvernementaux</p>
                    </div>
                    
                    <!-- Use the working map template -->
                    <t t-call="sama_etat.standalone_map_section"/>
                </div>
            </div>
            
        </t>
    </template>
</odoo>
