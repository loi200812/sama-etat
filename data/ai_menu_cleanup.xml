<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="0">
        <!-- Remove legacy AI menus by XML IDs (if present) -->
        <delete model="ir.ui.menu" id="menu_ai_configuration"/>
        <delete model="ir.ui.menu" id="menu_ai_model_config"/>
        <delete model="ir.ui.menu" id="menu_ai_models"/>
        <delete model="ir.ui.menu" id="menu_ai_providers_main"/>
        <delete model="ir.ui.menu" id="menu_ai_new"/>
        <delete model="ir.ui.menu" id="menu_ai_providers"/>
        <!-- <delete model="ir.ui.menu" id="menu_fournisseurs_ia"/> -->
        <delete model="ir.ui.menu" id="menu_ai_content_helper"/>
        <!-- <delete model="ir.ui.menu" id="menu_fournisseurs_ia_main"/> -->

        <!-- Remove any AI menus by name as a fallback (disabled to preserve new valid menu) -->
        <!-- Intentionally removed broad name-based deletions to avoid deleting the new 'Fournisseurs d'IA' menu. -->

        <!-- Remove legacy AI actions referencing OLD models only (preserve ai.provider.config) -->
        <delete model="ir.actions.act_window" search="[( 'res_model', 'in', [ 'ai.model.config', 'ai.content.helper' ] )]"/>
        <!-- Broad name-based deletions removed to avoid deleting the new provider action -->

        <!-- Remove any leftover ir.model.data entries for old AI menus -->
        <delete model="ir.model.data" search="[( 'model', '=', 'ir.ui.menu' ), ( 'name', 'ilike', 'menu_ai_%' )]"/>
        <delete model="ir.model.data" search="[( 'model', '=', 'ir.actions.act_window' ), ( 'name', 'ilike', 'action_ai_%' )]"/>
    </data>
</odoo>
